{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\src\\\\components\\\\AdminComponents\\\\AdminImageCategoryWise\\\\AddingImageAndCaption.js\";\nimport React from \"react\";\nimport { Rolling } from \"react-loading-io\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\n\nvar AddingImageAndCaption =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddingImageAndCaption, _React$Component);\n\n  //last selected values\n  //images ref\n  //store caption for images\n  //refer the whole tab\n  function AddingImageAndCaption(props) {\n    var _this;\n\n    _classCallCheck(this, AddingImageAndCaption);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddingImageAndCaption).call(this, props));\n    _this.lastSelected = null;\n    _this.currentSelectedImage = null;\n    _this.imageRef = null;\n    _this.captionList = {};\n    _this.textRef = null;\n    _this.currentSelectedUrl = null;\n    _this.loaderRef = null;\n    _this.allRef = null;\n    _this.floatingCaptionDiv = null;\n\n    _this.loader = function () {\n      return React.createElement(\"div\", {\n        className: \"loaderImage\",\n        ref: function ref(ree) {\n          return _this.loaderRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Rolling, {\n        size: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }));\n    };\n\n    _this.selectedImg = function (e, url, index) {\n      //setting the value of current selected value............\n      _this.currentSelectedImage = e.target;\n      _this.allRef.style.opacity = 0.2;\n      _this.floatingCaptionDiv.style.display = \"inline\";\n\n      if (e.target.id === \"selectImg\") {\n        e.target.id = \"startImg\";\n        _this.textRef.value = \"\";\n        _this.lastSelected === e.target ? function () {\n          _this.lastSelected = null;\n        } : function () {\n          \" \";\n        };\n      } else {\n        console.log(\"image selected border nnnnnnnnnnn\");\n        e.target.id = \"selectImg\";\n        _this.currentSelectedUrl = index;\n        _this.textRef.value = _this.captionList[index];\n        _this.lastSelected !== null ? _this.lastSelected.id = \"startImg\" : \"\";\n        _this.lastSelected = e.target;\n      }\n    };\n\n    _this.fetchDataSingle =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(data1) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                axios.post(\"https://nh65v.sse.codesandbox.io/mainImageslider/category/single\", data1).then(function (res) {\n                  if (res.data.error === \"tokenPro\") {\n                    _this.loaderRef.style.display = \"none\";\n\n                    _this.props.AfterUpload({\n                      selectedData: _this.props.selectedData_id\n                    });\n\n                    alert(\"you need to login first \");\n                  } else if (res.data.error === \"InternalError\") {\n                    _this.loaderRef.style.display = \"none\";\n                    alert(\"Oops, there's was an error please try again\");\n\n                    _this.props.AfterUpload({\n                      selectedData: _this.props.selectedData_id\n                    });\n                  } else {\n                    console.log(\"uploading done\");\n                    _this.loaderRef.style.display = \"none\";\n\n                    _this.props.setUserInfo(res.data.result);\n\n                    _this.props.AfterUpload({\n                      selectedData: _this.props.selectedData_id\n                    });\n                  }\n                }, function (err) {\n                  //clasing up loading icon\n                  _this.loaderRef.style.display = \"none\";\n                  alert(\"Oops, there's was an error please try again\");\n\n                  _this.props.AfterUpload({\n                    selectedData: _this.props.selectedData_id\n                  });\n\n                  console.log(\"in error here\" + err);\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.fetchDataMultiple =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(data1) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                axios.post(\"https://nh65v.sse.codesandbox.io/mainImageslider/category/multiple\", data1).then(function (res) {\n                  if (res.data.error === \"tokenPro\") {\n                    _this.loaderRef.style.display = \"none\";\n\n                    _this.props.AfterUpload({\n                      selectedData: _this.props.selectedData_id\n                    });\n\n                    alert(\"you need to login first \");\n                  } else if (res.data.error === \"InternalError\") {\n                    _this.loaderRef.style.display = \"none\";\n                    alert(\"Oops, there's was an error please try again\");\n\n                    _this.props.AfterUpload({\n                      selectedData: _this.props.selectedData_id\n                    });\n                  } else {\n                    console.log(\"uploading done\");\n                    _this.loaderRef.style.display = \"none\";\n\n                    _this.props.setUserInfo(res.data.result);\n\n                    _this.props.AfterUpload({\n                      selectedData: _this.props.selectedData_id\n                    });\n                  }\n                }, function (err) {\n                  //clasing up loading icon\n                  _this.loaderRef.style.display = \"none\";\n                  alert(\"Oops, there's was an error please try again\");\n\n                  _this.props.AfterUpload({\n                    selectedData: _this.props.selectedData_id\n                  });\n\n                  console.log(\"in error here\" + err);\n                });\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      image: null\n    };\n    _this.onImageChange = _this.onImageChange.bind(_assertThisInitialized(_this));\n    _this.handleCaption = _this.handleCaption.bind(_assertThisInitialized(_this));\n    _this.onImageChange = _this.onImageChange.bind(_assertThisInitialized(_this));\n    _this.selectedImg = _this.selectedImg.bind(_assertThisInitialized(_this));\n    _this.setReference = _this.setReference.bind(_assertThisInitialized(_this));\n    _this.sendInfo = _this.sendInfo.bind(_assertThisInitialized(_this));\n    _this.fetchDataSingle = _this.fetchDataSingle.bind(_assertThisInitialized(_this));\n    _this.fetchDataMultiple = _this.fetchDataMultiple.bind(_assertThisInitialized(_this));\n    _this.loader = _this.loader.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AddingImageAndCaption, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate() {\n      return true;\n    } //the sloading spinner\n    // Use Component\n\n  }, {\n    key: \"onImageChange\",\n    value: function onImageChange(event) {\n      var _this2 = this;\n\n      if (event.target.files && event.target.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          _this2.setState({\n            image: e.target.result\n          });\n        };\n\n        reader.readAsDataURL(event.target.files[0]);\n      }\n    }\n  }, {\n    key: \"handleCaption\",\n    //handling the captions\n    value: function handleCaption(e) {\n      if (this.lastSelected === null) {\n        alert(\"please select a image\");\n        e.target.value = \"\";\n      } else {\n        this.captionList[this.currentSelectedUrl] = e.target.value;\n      }\n    }\n  }, {\n    key: \"setReference\",\n    value: function setReference(ree) {\n      console.log(\"setting text area refer\");\n      this.textRef = ree;\n    } //upload the photos\n\n  }, {\n    key: \"sendInfo\",\n    value: function sendInfo() {\n      //setting the values in formData to send\n      var alen = this.props.selectedImages.length;\n      console.log(\"in send Info \", this.props.selectedImages);\n      var formData = new FormData(); //showing the loader\n\n      this.loaderRef.style.display = \"inline\"; //diming the background\n\n      this.allRef.style.opacity = 0.2;\n\n      if (alen > 1) {\n        formData.append(\"image\", this.props.selectedData_id);\n\n        for (var k = 0; k < alen; k++) {\n          console.log(\"in multi upload\", this.props.selectedImages[k]);\n          formData.append(\"image\", this.props.selectedImages[k]);\n          formData.append(\"image\", this.captionList[k]);\n        } // fetchDataMultiple(formData, refer);\n\n\n        this.fetchDataMultiple(formData);\n      }\n\n      if (alen === 1) {\n        console.log(\"in single upload\", this.props.selectedData_id); // open pop up view\n\n        formData.append(\"image\", this.props.selectedData_id);\n        formData.append(\"image\", this.captionList[0]);\n        formData.append(\"image\", this.props.selectedImages[0]);\n        this.fetchDataSingle(formData);\n      }\n    } //fetch data from the server\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(\"in render of adding image\", this.props.selectedData_id);\n      var tempObjUrl = [];\n\n      for (var k = 0; k < this.props.selectedImages.length; k++) {\n        console.log(\"in multi upload\", this.props.selectedImages[k]);\n        tempObjUrl.push(this.props.selectedImages[k]);\n      }\n\n      return React.createElement(React.Fragment, null, this.loader(), React.createElement(\"div\", {\n        className: \"floatingCaption\",\n        ref: function ref(ree) {\n          _this3.floatingCaptionDiv = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        rows: \"4\",\n        cols: \"60\",\n        ref: function ref(ree) {\n          return _this3.setReference(ree);\n        },\n        className: \"EditValue1\",\n        onChange: function onChange(e) {\n          return _this3.handleCaption(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-primary viewAdminBack   saveCaption\",\n        onClick: function onClick() {\n          _this3.floatingCaptionDiv.style.display = \"none\";\n          _this3.currentSelectedImage.id = \"startImg\";\n          _this3.lastSelected = null;\n          _this3.allRef.style.opacity = 1;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Save\")), React.createElement(\"div\", {\n        className: \"allRefering\",\n        ref: function ref(ree) {\n          return _this3.allRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"galleryHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Selected Images\"), React.createElement(\"div\", {\n        className: \"galleria\",\n        ref: function ref(ree) {\n          console.log(\"reefrerrebece set\");\n          _this3.imageRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, tempObjUrl.map(function (item, key) {\n        _this3.captionList[key] = \"\";\n        return React.createElement(\"img\", {\n          className: \"imageClass\",\n          src: URL.createObjectURL(item),\n          alt: \"\",\n          id: \"startImg\",\n          onClick: function onClick(e) {\n            return _this3.selectedImg(e, item, key);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }) // </a>\n        ;\n      })), React.createElement(\"button\", {\n        className: \"btn btn-primary viewAdminBack  submitCaption\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this3.sendInfo();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"button\", {\n        className: \"btn btn-primary viewAdminBack  backCaption\",\n        type: \"button\",\n        onClick: function onClick() {\n          _this3.props.gettingBackNoUpdate();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, \"back\")));\n    }\n  }]);\n\n  return AddingImageAndCaption;\n}(React.Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setUserInfo: function setUserInfo(name) {\n      dispatch({\n        type: \"update\",\n        payload: name\n      });\n    },\n    backPressFromImg: function backPressFromImg(name) {\n      dispatch({\n        type: \"getBackToEditMenu\",\n        payload: name\n      });\n    },\n    AfterUpload: function AfterUpload(value) {\n      dispatch({\n        type: \"getBackToEditMenu\",\n        payload: value\n      });\n    },\n    getToShowAll: function getToShowAll(value) {\n      dispatch({\n        type: \"getBackToShowAll\",\n        payload: value\n      });\n    },\n    gettingBackNoUpdate: function gettingBackNoUpdate(value) {\n      dispatch({\n        type: \"getBackToEditMenuNotUpdate\",\n        payload: value\n      });\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AddingImageAndCaption);","map":{"version":3,"sources":["D:/towards Future/project1/React client/latestReact/src/components/AdminComponents/AdminImageCategoryWise/AddingImageAndCaption.js"],"names":["React","Rolling","axios","connect","AddingImageAndCaption","props","lastSelected","currentSelectedImage","imageRef","captionList","textRef","currentSelectedUrl","loaderRef","allRef","floatingCaptionDiv","loader","ree","selectedImg","e","url","index","target","style","opacity","display","id","value","console","log","fetchDataSingle","data1","post","then","res","data","error","AfterUpload","selectedData","selectedData_id","alert","setUserInfo","result","err","fetchDataMultiple","state","image","onImageChange","bind","handleCaption","setReference","sendInfo","event","files","reader","FileReader","onload","setState","readAsDataURL","alen","selectedImages","length","formData","FormData","append","k","tempObjUrl","push","map","item","key","URL","createObjectURL","gettingBackNoUpdate","Component","mapDispatchToProps","dispatch","name","type","payload","backPressFromImg","getToShowAll"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Rolling } from \"react-loading-io\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass AddingImageAndCaption extends React.Component {\r\n  //last selected values\r\n  lastSelected = null;\r\n\r\n  currentSelectedImage = null;\r\n\r\n  //images ref\r\n  imageRef = null;\r\n\r\n  //store caption for images\r\n  captionList = {};\r\n\r\n  textRef = null;\r\n\r\n  currentSelectedUrl = null;\r\n  loaderRef = null;\r\n  //refer the whole tab\r\n  allRef = null;\r\n\r\n  floatingCaptionDiv = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      image: null\r\n    };\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n    this.handleCaption = this.handleCaption.bind(this);\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n    this.selectedImg = this.selectedImg.bind(this);\r\n    this.setReference = this.setReference.bind(this);\r\n    this.sendInfo = this.sendInfo.bind(this);\r\n    this.fetchDataSingle = this.fetchDataSingle.bind(this);\r\n    this.fetchDataMultiple = this.fetchDataMultiple.bind(this);\r\n    this.loader = this.loader.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {}\r\n\r\n  shouldComponentUpdate() {\r\n    return true;\r\n  }\r\n\r\n  //the sloading spinner\r\n  // Use Component\r\n  loader = () => {\r\n    return (\r\n      <div className=\"loaderImage\" ref={ree => (this.loaderRef = ree)}>\r\n        <Rolling size={100} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onImageChange(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      let reader = new FileReader();\r\n      reader.onload = e => {\r\n        this.setState({ image: e.target.result });\r\n      };\r\n      reader.readAsDataURL(event.target.files[0]);\r\n    }\r\n  }\r\n\r\n  selectedImg = (e, url, index) => {\r\n    //setting the value of current selected value............\r\n    this.currentSelectedImage = e.target;\r\n\r\n    this.allRef.style.opacity = 0.2;\r\n\r\n    this.floatingCaptionDiv.style.display = \"inline\";\r\n\r\n    if (e.target.id === \"selectImg\") {\r\n      e.target.id = \"startImg\";\r\n      this.textRef.value = \"\";\r\n      this.lastSelected === e.target ?()=>{ (this.lastSelected = null)} :()=>{\" \"};\r\n    } else {\r\n      console.log(\"image selected border nnnnnnnnnnn\");\r\n      e.target.id = \"selectImg\";\r\n      this.currentSelectedUrl = index;\r\n      this.textRef.value = this.captionList[index];\r\n\r\n      this.lastSelected !== null ? (this.lastSelected.id = \"startImg\") : \"\";\r\n\r\n      this.lastSelected = e.target;\r\n    }\r\n  };\r\n\r\n  //handling the captions\r\n  handleCaption(e) {\r\n    if (this.lastSelected === null) {\r\n      alert(\"please select a image\");\r\n      e.target.value = \"\";\r\n    } else {\r\n      this.captionList[this.currentSelectedUrl] = e.target.value;\r\n    }\r\n  }\r\n\r\n  setReference(ree) {\r\n    console.log(\"setting text area refer\");\r\n    this.textRef = ree;\r\n  }\r\n\r\n  //upload the photos\r\n  sendInfo() {\r\n    //setting the values in formData to send\r\n    var alen = this.props.selectedImages.length;\r\n    console.log(\"in send Info \", this.props.selectedImages);\r\n    const formData = new FormData();\r\n\r\n    //showing the loader\r\n    this.loaderRef.style.display = \"inline\";\r\n\r\n    //diming the background\r\n    this.allRef.style.opacity = 0.2;\r\n\r\n    if (alen > 1) {\r\n      formData.append(\"image\", this.props.selectedData_id);\r\n      for (let k = 0; k < alen; k++) {\r\n        console.log(\"in multi upload\", this.props.selectedImages[k]);\r\n        formData.append(\"image\", this.props.selectedImages[k]);\r\n        formData.append(\"image\", this.captionList[k]);\r\n      }\r\n\r\n      // fetchDataMultiple(formData, refer);\r\n      this.fetchDataMultiple(formData);\r\n    }\r\n    if (alen === 1) {\r\n      console.log(\"in single upload\", this.props.selectedData_id);\r\n      // open pop up view\r\n      formData.append(\"image\", this.props.selectedData_id);\r\n      formData.append(\"image\", this.captionList[0]);\r\n      formData.append(\"image\", this.props.selectedImages[0]);\r\n\r\n      this.fetchDataSingle(formData);\r\n    }\r\n  }\r\n\r\n  //fetch data from the server\r\n  fetchDataSingle = async data1 => {\r\n    axios\r\n      .post(\r\n        \"https://nh65v.sse.codesandbox.io/mainImageslider/category/single\",\r\n        data1\r\n      )\r\n      .then(\r\n        res => {\r\n          if (res.data.error === \"tokenPro\") {\r\n            this.loaderRef.style.display = \"none\";\r\n            this.props.AfterUpload({\r\n              selectedData: this.props.selectedData_id\r\n            });\r\n            alert(\"you need to login first \");\r\n          } else if (res.data.error === \"InternalError\") {\r\n            this.loaderRef.style.display = \"none\";\r\n            alert(\"Oops, there's was an error please try again\");\r\n            this.props.AfterUpload({\r\n              selectedData: this.props.selectedData_id\r\n            });\r\n          } else {\r\n            console.log(\"uploading done\");\r\n            this.loaderRef.style.display = \"none\";\r\n\r\n            this.props.setUserInfo(res.data.result);\r\n            this.props.AfterUpload({\r\n              selectedData: this.props.selectedData_id\r\n            });\r\n          }\r\n        },\r\n        err => {\r\n          //clasing up loading icon\r\n          this.loaderRef.style.display = \"none\";\r\n          alert(\"Oops, there's was an error please try again\");\r\n          this.props.AfterUpload({\r\n            selectedData: this.props.selectedData_id\r\n          });\r\n          console.log(\"in error here\" + err);\r\n        }\r\n      );\r\n  };\r\n\r\n  //fetch data from the server\r\n  fetchDataMultiple = async data1 => {\r\n    axios\r\n      .post(\r\n        \"https://nh65v.sse.codesandbox.io/mainImageslider/category/multiple\",\r\n        data1\r\n      )\r\n      .then(\r\n        res => {\r\n          if (res.data.error === \"tokenPro\") {\r\n            this.loaderRef.style.display = \"none\";\r\n            this.props.AfterUpload({\r\n              selectedData: this.props.selectedData_id\r\n            });\r\n            alert(\"you need to login first \");\r\n          } else if (res.data.error === \"InternalError\") {\r\n            this.loaderRef.style.display = \"none\";\r\n            alert(\"Oops, there's was an error please try again\");\r\n            this.props.AfterUpload({\r\n              selectedData: this.props.selectedData_id\r\n            });\r\n          } else {\r\n            console.log(\"uploading done\");\r\n            this.loaderRef.style.display = \"none\";\r\n            this.props.setUserInfo(res.data.result);\r\n            this.props.AfterUpload({\r\n              selectedData: this.props.selectedData_id\r\n            });\r\n          }\r\n        },\r\n        err => {\r\n          //clasing up loading icon\r\n          this.loaderRef.style.display = \"none\";\r\n          alert(\"Oops, there's was an error please try again\");\r\n          this.props.AfterUpload({\r\n            selectedData: this.props.selectedData_id\r\n          });\r\n          console.log(\"in error here\" + err);\r\n        }\r\n      );\r\n  };\r\n\r\n  render() {\r\n    console.log(\"in render of adding image\", this.props.selectedData_id);\r\n    var tempObjUrl = [];\r\n\r\n    for (let k = 0; k < this.props.selectedImages.length; k++) {\r\n      console.log(\"in multi upload\", this.props.selectedImages[k]);\r\n      tempObjUrl.push(this.props.selectedImages[k]);\r\n    }\r\n    return (\r\n      <>\r\n        {this.loader()}\r\n        <div\r\n          className=\"floatingCaption\"\r\n          ref={ree => {\r\n            this.floatingCaptionDiv = ree;\r\n          }}\r\n        >\r\n          <textarea\r\n            rows=\"4\"\r\n            cols=\"60\"\r\n            ref={ree => this.setReference(ree)}\r\n            className=\"EditValue1\"\r\n            onChange={e => this.handleCaption(e)}\r\n          />\r\n\r\n          <button\r\n            className=\"btn btn-primary viewAdminBack   saveCaption\"\r\n            onClick={() => {\r\n              this.floatingCaptionDiv.style.display = \"none\";\r\n              this.currentSelectedImage.id = \"startImg\";\r\n              this.lastSelected = null;\r\n              this.allRef.style.opacity = 1;\r\n            }}\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n        <div className=\"allRefering\" ref={ree => (this.allRef = ree)}>\r\n          <h1 className=\"galleryHeader\">Selected Images</h1>\r\n          <div\r\n            className=\"galleria\"\r\n            ref={ree => {\r\n              console.log(\"reefrerrebece set\");\r\n              this.imageRef = ree;\r\n            }}\r\n          >\r\n            {tempObjUrl.map((item, key) => {\r\n              this.captionList[key] = \"\";\r\n              return (\r\n                <img\r\n                  className=\"imageClass\"\r\n                  src={URL.createObjectURL(item)}\r\n                  alt=\"\"\r\n                  id=\"startImg\"\r\n                  onClick={e => this.selectedImg(e, item, key)}\r\n                />\r\n\r\n                // </a>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          <button\r\n            className=\"btn btn-primary viewAdminBack  submitCaption\"\r\n            type=\"button\"\r\n            onClick={() => this.sendInfo()}\r\n          >\r\n            Submit\r\n          </button>\r\n          <button\r\n            className=\"btn btn-primary viewAdminBack  backCaption\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              this.props.gettingBackNoUpdate();\r\n            }}\r\n          >\r\n            back\r\n          </button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUserInfo: name => {\r\n      dispatch({\r\n        type: \"update\",\r\n        payload: name\r\n      });\r\n    },\r\n    backPressFromImg: name => {\r\n      dispatch({\r\n        type: \"getBackToEditMenu\",\r\n        payload: name\r\n      });\r\n    },\r\n    AfterUpload: value => {\r\n      dispatch({\r\n        type: \"getBackToEditMenu\",\r\n        payload: value\r\n      });\r\n    },\r\n    getToShowAll: value => {\r\n      dispatch({\r\n        type: \"getBackToShowAll\",\r\n        payload: value\r\n      });\r\n    },\r\n    gettingBackNoUpdate: value => {\r\n      dispatch({\r\n        type: \"getBackToEditMenuNotUpdate\",\r\n        payload: value\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AddingImageAndCaption);\r\n"]},"metadata":{},"sourceType":"module"}