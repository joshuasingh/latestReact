{"ast":null,"code":"import _objectSpread from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\src\\\\components\\\\AdminComponents\\\\CreateAdmin\\\\CreateAdmin.js\";\nimport React from \"react\";\nimport { Rolling } from \"react-loading-io\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\n\nvar validator = require(\"validator\");\n\nvar CreateAdmin =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CreateAdmin, _React$Component);\n\n  function CreateAdmin(props) {\n    var _this;\n\n    _classCallCheck(this, CreateAdmin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateAdmin).call(this, props));\n    _this.pass = null;\n    _this.confPass = null;\n    _this.formRef = null;\n    _this.backButton = null;\n    _this.createButton = null;\n    _this.loaderStyle = {\n      \"margin-left\": \"6%\"\n    };\n\n    _this.loader = function () {\n      return React.createElement(\"div\", {\n        className: \"loaderImage\",\n        ref: function ref(ree) {\n          return _this.loaderRef = ree;\n        },\n        style: _this.loaderStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Rolling, {\n        size: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }));\n    };\n\n    _this.heading = {\n      \"margin-bottom\": \"2vh\"\n    };\n    _this.state = {\n      UserName: \"\",\n      UserNameErr: \"\",\n      Email: \"\",\n      EmailErr: \"\",\n      Password: \"\",\n      PasswordErr: \"\",\n      cnfPassword: \" \"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.validateForm = _this.validateForm.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CreateAdmin, [{\n    key: \"comparePassword\",\n    value: function comparePassword(a) {\n      if (this.pass === a.target.value) alert(\"its same\");\n      console.log(a.target.name);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(a) {\n      var naming = a.target.name;\n      this.setState(_defineProperty({}, naming, a.target.value));\n      console.log(this.state);\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this2 = this;\n\n      //showing the loader\n      this.loaderRef.style.display = \"inline\"; //diming the background\n\n      this.formRef.style.opacity = 0.2;\n      var error = {};\n      this.setState({\n        UserNameErr: \"\",\n        PasswordErr: \"\",\n        EmailErr: \" \"\n      });\n      console.log(this.state);\n\n      if (validator.isEmpty(this.state.UserName)) {\n        console.log(\"username empty\", this.state.Password);\n        error = _objectSpread({}, error, {\n          UserNameErr: \"field cannot be empty\"\n        });\n      }\n\n      if (validator.isEmpty(this.state.Password)) {\n        console.log(\"password empty\");\n        error = _objectSpread({}, error, {\n          PasswordErr: \"password cannot be empty\"\n        });\n      }\n\n      if (this.state.Email === \"\") {\n        console.log(\"email empty\");\n        error = _objectSpread({}, error, {\n          EmailErr: \"email cannot be empty\"\n        });\n      }\n\n      if (!validator.isEmail(this.state.Email)) {\n        error = _objectSpread({\n          EmailErr: \"please input a right email \"\n        }, error);\n      }\n\n      if (!validator.equals(this.state.Password, this.state.cnfPassword)) {\n        error = _objectSpread({}, error, {\n          PasswordErr: \"password do not match \"\n        });\n      }\n\n      if (this.state.Password.length <= 8) {\n        error = _objectSpread({}, error, {\n          PasswordErr: \"the length of password should be more than 8\"\n        });\n      }\n\n      if (Object.keys(error).length !== 0) {\n        console.log(\"in here\");\n        this.loaderRef.style.display = \"none\"; //diming the background\n\n        this.formRef.style.opacity = 1;\n        this.setState(_objectSpread({}, error));\n      } //send request to server to create a account\n      else {\n          //disable back and create button\n          this.createButton.disabled = true;\n          this.backButton.disabled = true;\n          var data1 = {\n            UserName: this.state.UserName,\n            Email: this.state.Email,\n            Password: this.state.Password\n          };\n          axios.post(\"https://nh65v.sse.codesandbox.io/adminSetting/AddUser\", data1).then(function (res) {\n            if (res.data.error === \"tokenPro\") {\n              //Enable back and create button\n              _this2.createButton.disabled = false;\n              _this2.backButton.disabled = false; //Undiming the background\n\n              _this2.formRef.style.opacity = 1;\n              _this2.loaderRef.style.display = \"none\";\n              alert(\"you need to login first \");\n            } else if (res.data.error === \"InternalError\") {\n              //Enable back and create button\n              _this2.createButton.disabled = false;\n              _this2.backButton.disabled = false; //Undiming the background\n\n              _this2.formRef.style.opacity = 1;\n              _this2.loaderRef.style.display = \"none\";\n              alert(\"Oops, there's was an error please try again\");\n            } else if (res.data.error === \"emailNotUnique\") {\n              alert(\"email Id already exist,please enter a new Email Id\"); //Enable back and create button\n\n              _this2.createButton.disabled = false;\n              _this2.backButton.disabled = false; //Undiming the background\n\n              _this2.formRef.style.opacity = 1;\n              _this2.loaderRef.style.display = \"none\";\n            } else {\n              alert(\"Admin Created\");\n\n              _this2.props.selection(-1);\n\n              console.log(\"uploading done\", res.data.result); //update admin list\n\n              _this2.props.updateAdmin(res.data.result); //Enable back and create button\n\n\n              _this2.createButton.disabled = false;\n              _this2.backButton.disabled = false; //Undiming the background\n\n              _this2.formRef.style.opacity = 1;\n              _this2.loaderRef.style.display = \"none\";\n            }\n          }, function (err) {\n            //clasing up loading icon\n            // this.loaderRef.style.display = \"none\";\n            alert(\"Oops, there's was an error please try again\"); //Enable back and create button\n\n            _this2.createButton.disabled = false;\n            _this2.backButton.disabled = false; //Undiming the background\n\n            _this2.formRef.style.opacity = 1;\n            _this2.loaderRef.style.display = \"none\";\n            console.log(\"in error here\" + err);\n          });\n        }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(React.Fragment, null, this.loader(), React.createElement(\"form\", {\n        className: \"createAdminCss\",\n        ref: function ref(ree) {\n          _this3.formRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: this.heading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Customize As Wished\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"UserName\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"UserName\",\n        className: \"form-control createAdminInput\",\n        value: this.state.username,\n        onChange: function onChange(e) {\n          _this3.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), this.state.UserNameErr !== \"\" ? React.createElement(\"div\", {\n        className: \"errs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, this.state.UserNameErr) : React.createElement(\"div\", {\n        className: \"errs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"e-mail\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"Email\",\n        className: \"form-control createAdminInput\",\n        onChange: function onChange(e) {\n          _this3.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"errs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, this.state.EmailErr !== \"\" ? this.state.EmailErr : \"  \")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"password\"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"Password\",\n        className: \"form-control\",\n        onChange: function onChange(e) {\n          _this3.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"errs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, this.state.PasswordErr !== \"\" ? this.state.PasswordErr : \"  \")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"Confirm password\"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"cnfPassword\",\n        className: \"form-control\",\n        onChange: function onChange(e) {\n          _this3.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"errs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, this.state.PasswordErr !== \"\" ? this.state.PasswordErr : \"  \"))), React.createElement(\"button\", {\n        className: \"btn btn-primary createAdminBackBtn\",\n        onClick: function onClick() {\n          _this3.props.selection(-1);\n        },\n        ref: function ref(ree) {\n          _this3.backButton = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Back\"), React.createElement(\"button\", {\n        className: \"btn btn-primary createAdminBtn\",\n        onClick: function onClick() {\n          _this3.validateForm();\n        },\n        ref: function ref(ree) {\n          _this3.createButton = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Create An Account\"));\n    }\n  }]);\n\n  return CreateAdmin;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user1: state.AdminDetailView\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setUserInfo: function setUserInfo(name) {\n      dispatch({\n        type: \"update\",\n        payload: name\n      });\n    },\n    initialize: function initialize(name) {\n      dispatch({\n        type: \"initial\",\n        payload: name\n      });\n    },\n    selection: function selection(val) {\n      dispatch({\n        type: \"toggle\",\n        payload: val\n      });\n    },\n    updateAdmin: function updateAdmin(val) {\n      dispatch({\n        type: \"updateAdminList\",\n        payload: val\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateAdmin);","map":{"version":3,"sources":["D:/towards Future/project1/React client/latestReact/src/components/AdminComponents/CreateAdmin/CreateAdmin.js"],"names":["React","Rolling","axios","connect","validator","require","CreateAdmin","props","pass","confPass","formRef","backButton","createButton","loaderStyle","loader","ree","loaderRef","heading","state","UserName","UserNameErr","Email","EmailErr","Password","PasswordErr","cnfPassword","handleChange","bind","validateForm","a","target","value","alert","console","log","name","naming","setState","style","display","opacity","error","isEmpty","isEmail","equals","length","Object","keys","disabled","data1","post","then","res","data","selection","result","updateAdmin","err","username","e","Component","mapStateToProps","user1","AdminDetailView","mapDispatchToProps","dispatch","setUserInfo","type","payload","initialize","val"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Rolling } from \"react-loading-io\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\n\r\nvar validator = require(\"validator\");\r\n\r\nclass CreateAdmin extends React.Component {\r\n  pass = null;\r\n  confPass = null;\r\n  formRef = null;\r\n  backButton = null;\r\n  createButton = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      UserName: \"\",\r\n      UserNameErr: \"\",\r\n      Email: \"\",\r\n      EmailErr: \"\",\r\n      Password: \"\",\r\n      PasswordErr: \"\",\r\n      cnfPassword: \" \"\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n  }\r\n\r\n  comparePassword(a) {\r\n    if (this.pass === a.target.value) alert(\"its same\");\r\n\r\n    console.log(a.target.name);\r\n  }\r\n\r\n  handleChange(a) {\r\n    var naming = a.target.name;\r\n\r\n    this.setState({\r\n      [naming]: a.target.value\r\n    });\r\n\r\n    console.log(this.state);\r\n  }\r\n\r\n  validateForm() {\r\n    //showing the loader\r\n    this.loaderRef.style.display = \"inline\";\r\n    //diming the background\r\n    this.formRef.style.opacity = 0.2;\r\n    let error = {};\r\n    this.setState({\r\n      UserNameErr: \"\",\r\n      PasswordErr: \"\",\r\n      EmailErr: \" \"\r\n    });\r\n    console.log(this.state);\r\n    if (validator.isEmpty(this.state.UserName)) {\r\n      console.log(\"username empty\", this.state.Password);\r\n      error = { ...error, UserNameErr: \"field cannot be empty\" };\r\n    }\r\n    if (validator.isEmpty(this.state.Password)) {\r\n      console.log(\"password empty\");\r\n      error = { ...error, PasswordErr: \"password cannot be empty\" };\r\n    }\r\n    if (this.state.Email === \"\") {\r\n      console.log(\"email empty\");\r\n      error = { ...error, EmailErr: \"email cannot be empty\" };\r\n    }\r\n    if (!validator.isEmail(this.state.Email)) {\r\n      error = { EmailErr: \"please input a right email \", ...error };\r\n    }\r\n    if (!validator.equals(this.state.Password, this.state.cnfPassword)) {\r\n      error = { ...error, PasswordErr: \"password do not match \" };\r\n    }\r\n    if (this.state.Password.length <= 8) {\r\n      error = {\r\n        ...error,\r\n        PasswordErr: \"the length of password should be more than 8\"\r\n      };\r\n    }\r\n    if (Object.keys(error).length !== 0) {\r\n      console.log(\"in here\");\r\n\r\n      this.loaderRef.style.display = \"none\";\r\n      //diming the background\r\n      this.formRef.style.opacity = 1;\r\n      this.setState({ ...error });\r\n    } //send request to server to create a account\r\n    else {\r\n      //disable back and create button\r\n      this.createButton.disabled = true;\r\n      this.backButton.disabled = true;\r\n\r\n      const data1 = {\r\n        UserName: this.state.UserName,\r\n        Email: this.state.Email,\r\n        Password: this.state.Password\r\n      };\r\n      axios\r\n        .post(\"https://nh65v.sse.codesandbox.io/adminSetting/AddUser\", data1)\r\n        .then(\r\n          res => {\r\n            if (res.data.error === \"tokenPro\") {\r\n              //Enable back and create button\r\n              this.createButton.disabled = false;\r\n              this.backButton.disabled = false;\r\n\r\n              //Undiming the background\r\n              this.formRef.style.opacity = 1;\r\n              this.loaderRef.style.display = \"none\";\r\n              alert(\"you need to login first \");\r\n            } else if (res.data.error === \"InternalError\") {\r\n              //Enable back and create button\r\n              this.createButton.disabled = false;\r\n              this.backButton.disabled = false;\r\n\r\n              //Undiming the background\r\n              this.formRef.style.opacity = 1;\r\n              this.loaderRef.style.display = \"none\";\r\n              alert(\"Oops, there's was an error please try again\");\r\n            } else if (res.data.error === \"emailNotUnique\") {\r\n              alert(\"email Id already exist,please enter a new Email Id\");\r\n\r\n              //Enable back and create button\r\n              this.createButton.disabled = false;\r\n              this.backButton.disabled = false;\r\n\r\n              //Undiming the background\r\n              this.formRef.style.opacity = 1;\r\n              this.loaderRef.style.display = \"none\";\r\n            } else {\r\n              alert(\"Admin Created\");\r\n              this.props.selection(-1);\r\n              console.log(\"uploading done\", res.data.result);\r\n\r\n            //update admin list\r\n             this.props.updateAdmin(res.data.result)\r\n\r\n              //Enable back and create button\r\n              this.createButton.disabled = false;\r\n              this.backButton.disabled = false;\r\n\r\n              //Undiming the background\r\n              this.formRef.style.opacity = 1;\r\n              this.loaderRef.style.display = \"none\";\r\n     \r\n\r\n            }\r\n          },\r\n          err => {\r\n            //clasing up loading icon\r\n            // this.loaderRef.style.display = \"none\";\r\n            alert(\"Oops, there's was an error please try again\");\r\n\r\n            //Enable back and create button\r\n            this.createButton.disabled = false;\r\n            this.backButton.disabled = false;\r\n\r\n            //Undiming the background\r\n            this.formRef.style.opacity = 1;\r\n            this.loaderRef.style.display = \"none\";\r\n            console.log(\"in error here\" + err);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  loaderStyle = {\r\n    \"margin-left\": \"6%\"\r\n  };\r\n\r\n  //the sloading spinner\r\n  // Use Component\r\n  loader = () => {\r\n    return (\r\n      <div\r\n        className=\"loaderImage\"\r\n        ref={ree => (this.loaderRef = ree)}\r\n        style={this.loaderStyle}\r\n      >\r\n        <Rolling size={100} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  heading = {\r\n    \"margin-bottom\": \"2vh\"\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.loader()}\r\n        <form\r\n          className=\"createAdminCss\"\r\n          ref={ree => {\r\n            this.formRef = ree;\r\n          }}\r\n        >\r\n          <h1 style={this.heading}>Customize As Wished</h1>\r\n          <div className=\"form-group\">\r\n            <label className=\"control-label\">UserName</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"UserName\"\r\n              className=\"form-control createAdminInput\"\r\n              value={this.state.username}\r\n              onChange={e => {\r\n                this.handleChange(e);\r\n              }}\r\n            />\r\n            {this.state.UserNameErr !== \"\" ? (\r\n              <div className=\"errs\">{this.state.UserNameErr}</div>\r\n            ) : (\r\n              <div className=\"errs\" />\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"control-label\">e-mail</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"Email\"\r\n              className=\"form-control createAdminInput\"\r\n              onChange={e => {\r\n                this.handleChange(e);\r\n              }}\r\n            />\r\n            <div className=\"errs\">\r\n              {this.state.EmailErr !== \"\" ? this.state.EmailErr : \"  \"}\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"control-label\">password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"Password\"\r\n              className=\"form-control\"\r\n              onChange={e => {\r\n                this.handleChange(e);\r\n              }}\r\n            />\r\n            <div className=\"errs\">\r\n              {this.state.PasswordErr !== \"\" ? this.state.PasswordErr : \"  \"}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"control-label\">Confirm password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"cnfPassword\"\r\n              className=\"form-control\"\r\n              onChange={e => {\r\n                this.handleChange(e);\r\n              }}\r\n            />\r\n            <div className=\"errs\">\r\n              {this.state.PasswordErr !== \"\" ? this.state.PasswordErr : \"  \"}\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <button\r\n          className=\"btn btn-primary createAdminBackBtn\"\r\n          onClick={() => {\r\n            this.props.selection(-1);\r\n          }}\r\n          ref={ree => {\r\n            this.backButton = ree;\r\n          }}\r\n        >\r\n          Back\r\n        </button>\r\n        <button\r\n          className=\"btn btn-primary createAdminBtn\"\r\n          onClick={() => {\r\n            this.validateForm();\r\n          }}\r\n          ref={ree => {\r\n            this.createButton = ree;\r\n          }}\r\n        >\r\n          Create An Account\r\n        </button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user1: state.AdminDetailView,\r\n    \r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUserInfo: name => {\r\n      dispatch({\r\n        type: \"update\",\r\n        payload: name\r\n      });\r\n    },\r\n    initialize: name => {\r\n      dispatch({\r\n        type: \"initial\",\r\n        payload: name\r\n      });\r\n    },\r\n    selection: val => {\r\n      dispatch({\r\n        type: \"toggle\",\r\n        payload: val\r\n      });\r\n    },\r\n    updateAdmin: val => {\r\n      dispatch({\r\n        type: \"updateAdminList\",\r\n        payload: val\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreateAdmin);\r\n"]},"metadata":{},"sourceType":"module"}