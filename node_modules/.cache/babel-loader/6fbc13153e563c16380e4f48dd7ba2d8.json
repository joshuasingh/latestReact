{"ast":null,"code":"import _classCallCheck from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\src\\\\components\\\\AdminComponents\\\\CreateAdmin\\\\ViewAllAdmin.js\";\nimport React from \"react\";\nimport { Rolling } from \"react-loading-io\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\n\nvar ViewAllAdmin =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ViewAllAdmin, _React$Component);\n\n  //pop up menu reference \n  function ViewAllAdmin(props) {\n    var _this;\n\n    _classCallCheck(this, ViewAllAdmin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewAllAdmin).call(this, props));\n    _this.popRef = null;\n    _this.removingId = null;\n    _this.allRef = null;\n    _this.testData = [{\n      username: \"joshua\",\n      email: \"joshuasingh5222gmail.com\"\n    }, {\n      username: \"joy\",\n      email: \"joshuingh5222gmail.com\"\n    }, {\n      username: \"joy\",\n      email: \"joshuingh5222gmail.com\"\n    } // { username: \"joy\", email: \"joshuingh5222gmail.com\" },\n    // { username: \"joy\", email: \"joshuingh5222gmail.com\" },\n    // { username: \"joy\", email: \"joshuingh5222gmail.com\" }\n    ];\n\n    _this.loader = function () {\n      return React.createElement(\"div\", {\n        className: \"loaderImage\",\n        ref: function ref(ree) {\n          return _this.loaderRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Rolling, {\n        size: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }));\n    };\n\n    _this.paraStyle = {\n      \"font-family\": \"Times New Roman\",\n      \"text-shadow\": \"grey 1px 2px 3px\"\n    };\n    _this.loader = _this.loader.bind(_assertThisInitialized(_this));\n    _this.removeIt = _this.removeIt.bind(_assertThisInitialized(_this));\n    _this.goBack = _this.goBack.bind(_assertThisInitialized(_this));\n    _this.setPopUpRef = _this.setPopUpRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ViewAllAdmin, [{\n    key: \"setPopUpRef\",\n    value: function setPopUpRef(ree) {\n      console.log(\"getting popup ref\");\n      this.popRef = ree;\n    } //enable the background\n\n  }, {\n    key: \"enableBack\",\n    value: function enableBack() {\n      this.popRef.style.display = \"none\";\n      this.allRef.style.opacity = 1;\n      this.backButton.style.opacity = 1;\n      this.backButton.disabled = false;\n    }\n  }, {\n    key: \"removeAccountPer\",\n    value: function removeAccountPer() {\n      var _this2 = this;\n\n      //showing the loader image\n      this.loaderRef.style.display = \"inline\";\n      this.popRef.style.display = \"none\";\n      var data1 = {\n        id: this.removingId\n      };\n      axios.post(\"https://nh65v.sse.codesandbox.io/adminSetting/removeAccount\", data1).then(function (res) {\n        if (res.data.error === \"tokenPro\") {\n          _this2.loaderRef.style.display = \"none\";\n\n          _this2.enableBack();\n\n          alert(\"you need to login first \");\n        } else if (res.data.error === \"InternalError\") {\n          _this2.loaderRef.style.display = \"none\";\n\n          _this2.enableBack();\n\n          alert(\"Oops, there's was an error please try again\");\n        } else {\n          console.log(\"uploading done\");\n          _this2.loaderRef.style.display = \"none\";\n\n          _this2.enableBack();\n\n          _this2.props.setAdminValues(res.data.result);\n        }\n      }, function (err) {\n        //clasing up loading icon\n        _this2.loaderRef.style.display = \"none\";\n\n        _this2.enableBack();\n\n        alert(\"Oops, there's was an error please try again\");\n        console.log(\"in error here\" + err);\n      });\n    } //confirmation to remove account\n\n  }, {\n    key: \"popUpView\",\n    value: function popUpView() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"form-popup-AllAdmin\",\n        id: \"myForm\",\n        ref: function ref(ree) {\n          return _this3.setPopUpRef(ree);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"text text-admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Are you sure you want to delete the Account ?\")), React.createElement(\"button\", {\n        className: \"btn btn-primary yesAdmin\",\n        onClick: function onClick() {\n          _this3.removeAccountPer();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Yes\"), React.createElement(\"button\", {\n        className: \"btn btn-primary noAdmin\",\n        onClick: function onClick() {\n          _this3.enableBack();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"No\")));\n    }\n  }, {\n    key: \"removeIt\",\n    //remove the account\n    value: function removeIt(idd) {\n      this.removingId = idd; //diming the background and disabling \n\n      this.allRef.style.opacity = 0.2;\n      this.backButton.style.opacity = 0.2;\n      this.backButton.disabled = true;\n      this.popRef.style.display = \"inline\";\n    }\n  }, {\n    key: \"goBack\",\n    value: function goBack() {\n      this.props.selection(-1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      console.log(\"in render of viewalladmin\", this.props.InLog.allAdmin);\n      return React.createElement(React.Fragment, null, this.loader(), React.createElement(\"button\", {\n        className: \"btn btn-primary viewAdminBack\",\n        onClick: function onClick() {\n          return _this4.goBack();\n        },\n        ref: function ref(ree) {\n          _this4.backButton = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Back\"), React.createElement(\"div\", {\n        className: \"row adminRow\",\n        ref: function ref(ree) {\n          return _this4.allRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, this.props.InLog.allAdmin.map(function (item, key) {\n        console.log(\"getting url info\", item);\n        return React.createElement(\"div\", {\n          className: \"col-md-4 mb-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card h-100 cardAdmin \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body removeAdmin1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          style: _this4.paraStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, item.username), React.createElement(\"p\", {\n          style: _this4.paraStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, item.email))), React.createElement(\"div\", {\n          className: \"card-body removeAdmin\",\n          onClick: function onClick(e) {\n            _this4.removeIt(item._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"card-text1 adminText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"remove it\"))));\n      })), this.popUpView());\n    }\n  }]);\n\n  return ViewAllAdmin;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    InLog: state.AdminLoginRights\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setUserInfo: function setUserInfo(name) {\n      dispatch({\n        type: \"update\",\n        payload: name\n      });\n    },\n    setAdminValues: function setAdminValues(val) {\n      dispatch({\n        type: \"updateAdminList\",\n        payload: val\n      });\n    },\n    selection: function selection(val) {\n      dispatch({\n        type: \"toggle\",\n        payload: val\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewAllAdmin);","map":{"version":3,"sources":["D:/towards Future/project1/React client/latestReact/src/components/AdminComponents/CreateAdmin/ViewAllAdmin.js"],"names":["React","Rolling","axios","connect","ViewAllAdmin","props","popRef","removingId","allRef","testData","username","email","loader","ree","loaderRef","paraStyle","bind","removeIt","goBack","setPopUpRef","console","log","style","display","opacity","backButton","disabled","data1","id","post","then","res","data","error","enableBack","alert","setAdminValues","result","err","removeAccountPer","idd","selection","InLog","allAdmin","map","item","key","e","_id","popUpView","Component","mapStateToProps","state","AdminLoginRights","mapDispatchToProps","dispatch","setUserInfo","name","type","payload","val"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Rolling } from \"react-loading-io\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass ViewAllAdmin extends React.Component {\r\n      \r\n     //pop up menu reference \r\n      popRef=null\r\n\r\n      removingId=null;\r\n  \r\n  \r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.loader = this.loader.bind(this);\r\n    this.removeIt = this.removeIt.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n    this.setPopUpRef=this.setPopUpRef.bind(this)\r\n  }\r\n\r\n  allRef = null;\r\n\r\n  testData = [\r\n    { username: \"joshua\", email: \"joshuasingh5222gmail.com\" },\r\n    { username: \"joy\", email: \"joshuingh5222gmail.com\" },\r\n    { username: \"joy\", email: \"joshuingh5222gmail.com\" },\r\n    // { username: \"joy\", email: \"joshuingh5222gmail.com\" },\r\n    // { username: \"joy\", email: \"joshuingh5222gmail.com\" },\r\n    // { username: \"joy\", email: \"joshuingh5222gmail.com\" }\r\n  ];\r\n\r\n  //the sloading spinner\r\n  // Use Component\r\n  loader = () => {\r\n    return (\r\n      <div className=\"loaderImage\" ref={ree => (this.loaderRef = ree)}>\r\n        <Rolling size={100} />\r\n      </div>\r\n    );\r\n  };\r\n \r\n   setPopUpRef(ree) {\r\n    console.log(\"getting popup ref\");\r\n    this.popRef = ree;\r\n  }\r\n\r\n\r\n  //enable the background\r\n  enableBack()\r\n  {\r\n            this.popRef.style.display=\"none\"\r\n            this.allRef.style.opacity = 1;\r\n            this.backButton.style.opacity =1;\r\n            this.backButton.disabled=false\r\n  }\r\n\r\n\r\n  removeAccountPer()\r\n  {\r\n    //showing the loader image\r\n    this.loaderRef.style.display=\"inline\"\r\n   \r\n    this.popRef.style.display=\"none\"\r\n\r\n\r\n\r\n    var data1 = {\r\n      id: this.removingId\r\n    };\r\n    \r\n    axios\r\n      .post(\r\n        \"https://nh65v.sse.codesandbox.io/adminSetting/removeAccount\",\r\n        data1\r\n      )\r\n      .then(\r\n        res => {\r\n          if (res.data.error === \"tokenPro\") {\r\n            this.loaderRef.style.display=\"none\"\r\n             this.enableBack()\r\n            alert(\"you need to login first \");\r\n          } else if (res.data.error === \"InternalError\") {\r\n             this.loaderRef.style.display=\"none\"\r\n             this.enableBack()\r\n            alert(\"Oops, there's was an error please try again\");\r\n          } else {\r\n            console.log(\"uploading done\");\r\n            this.loaderRef.style.display=\"none\"\r\n             this.enableBack()\r\n            this.props.setAdminValues(res.data.result);\r\n          }\r\n        },\r\n        err => {\r\n          //clasing up loading icon\r\n         this.loaderRef.style.display=\"none\"\r\n             this.enableBack() \r\n             alert(\"Oops, there's was an error please try again\");\r\n\r\n          console.log(\"in error here\" + err);\r\n        }\r\n      );\r\n\r\n  }\r\n\r\n  //confirmation to remove account\r\n    popUpView() {\r\n    return (\r\n      <div\r\n        className=\"form-popup-AllAdmin\"\r\n        id=\"myForm\"\r\n        ref={ree => this.setPopUpRef(ree)}\r\n      >\r\n        <div className=\"form-container\">\r\n          <label className=\"text text-admin\">\r\n            <b>Are you sure you want to delete the Account ?</b>\r\n          </label>\r\n        \r\n          <button\r\n          className=\"btn btn-primary yesAdmin\"\r\n          onClick={()=>{\r\n               this.removeAccountPer()\r\n          }}\r\n        >\r\n          Yes\r\n        </button>\r\n         <button\r\n          className=\"btn btn-primary noAdmin\"\r\n          onClick={()=>{\r\n           this.enableBack()\r\n       }}\r\n        >\r\n          No\r\n        </button> \r\n \r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  \r\n\r\n  paraStyle=\r\n  {\r\n   \"font-family\":\"Times New Roman\",\r\n   \"text-shadow\":\"grey 1px 2px 3px\"\r\n  }\r\n\r\n\r\n\r\n  //remove the account\r\n  removeIt(idd) {\r\n \r\n  this.removingId=idd\r\n   \r\n   //diming the background and disabling \r\n   this.allRef.style.opacity = 0.2;\r\n\r\n   this.backButton.style.opacity = 0.2;\r\n  \r\n   this.backButton.disabled=true\r\n\r\n   this.popRef.style.display = \"inline\";\r\n\r\n\r\n   \r\n  }\r\n\r\n  goBack() {\r\n    this.props.selection(-1);\r\n  }\r\n\r\n  render() {\r\n    console.log(\"in render of viewalladmin\", this.props.InLog.allAdmin);\r\n\r\n    return (\r\n      <>\r\n        {this.loader()}\r\n       \r\n          <button\r\n          className=\"btn btn-primary viewAdminBack\"\r\n          onClick={() => this.goBack()}\r\n          ref={ree => {\r\n            this.backButton = ree;\r\n          }}\r\n        >\r\n          Back\r\n        </button>\r\n\r\n        <div className=\"row adminRow\" ref={ree => (this.allRef = ree)} >\r\n          {this.props.InLog.allAdmin.map((item, key) => {\r\n            console.log(\"getting url info\", item);\r\n\r\n            return (\r\n              <div className=\"col-md-4 mb-5\">\r\n                <div className=\"card h-100 cardAdmin \">\r\n                  <div className=\"card-body removeAdmin1\">\r\n                 <div className=\"card-text\">  \r\n                   <p style={this.paraStyle}>{item.username}</p>\r\n                   <p style={this.paraStyle}>{item.email}</p>\r\n                 </div>    \r\n                  </div>\r\n                  <div className=\"card-body removeAdmin\"  \r\n                   onClick={e => {\r\n                            this.removeIt(item._id);\r\n                          }}>\r\n                    <p className=\"card-text1 adminText\">remove it</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        {this.popUpView()}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    InLog: state.AdminLoginRights\r\n     \r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUserInfo: name => {\r\n      dispatch({\r\n        type: \"update\",\r\n        payload: name\r\n      });\r\n    },\r\n    setAdminValues: val => {\r\n      dispatch({\r\n        type: \"updateAdminList\",\r\n        payload: val\r\n      });\r\n    },\r\n    selection: val => {\r\n      dispatch({\r\n        type: \"toggle\",\r\n        payload: val\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ViewAllAdmin);\r\n"]},"metadata":{},"sourceType":"module"}