{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\towards Future\\\\project1\\\\React client\\\\latestReact\\\\src\\\\components\\\\AdminComponents\\\\AdminImagestab\\\\MainImageSlider.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { Rolling } from \"react-loading-io\";\n\nvar MainImageSlider =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MainImageSlider, _React$Component);\n\n  //back button reference\n  //child component reference\n  //selected images to be deleted\n  //for mainpageslider specific info\n  //refering the whole screen\n  function MainImageSlider(props) {\n    var _this;\n\n    _classCallCheck(this, MainImageSlider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainImageSlider).call(this, props));\n    _this.data = [\"first\", \"second\", \"third\", \"fourth\", \"fifth\"];\n    _this.mainPageSliderInfo = {};\n    _this.backButtonRef = null;\n    _this.childRef = null;\n    _this.onClickedImages = [];\n    _this.mainPageSliderInfo = [];\n    _this.mainPageSliderInfo_Id = \"\";\n    _this.allRef = null;\n\n    _this.fetchDataMultiple =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(datax) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.post(\"http://localhost:8081/mainImageslider/notSingle\", datax).then(function (res) {\n                  if (res.data.error === \"tokenPro\") {\n                    _this.loaderRef.style.display = \"none\";\n                    _this.allRef.style.opacity = 1;\n                    alert(\"you need to login first \");\n                  } else if (res.data.error === \"InternalError\") {\n                    _this.loaderRef.style.display = \"none\";\n                    _this.allRef.style.opacity = 1;\n                    alert(\"Oops, there's was an error please try again\");\n                  } else {\n                    console.log(\"uploading done\");\n                    _this.loaderRef.style.display = \"none\";\n                    _this.allRef.style.opacity = 1;\n\n                    _this.props.setUserInfo(res.data.result);\n                  }\n                }, function (err) {\n                  //clasing up loading icon\n                  _this.loaderRef.style.display = \"none\";\n                  _this.allRef.style.opacity = 1;\n                  alert(\"Oops, there's was an error please try again\");\n                  console.log(\"in error here\" + err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.loaderRef = null;\n\n    _this.fileChangedHandler = function (event) {\n      console.log(\"file uploaded\");\n\n      _this.setState({\n        selectedFile: event.target.files\n      });\n    };\n\n    _this.loader = function () {\n      return React.createElement(\"div\", {\n        className: \"loaderImage\",\n        ref: function ref(ree) {\n          return _this.loaderRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Rolling, {\n        size: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), \";\");\n    };\n\n    _this.removeHandler =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var temp, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (_this.onClickedImages.length === 0) {\n                alert(\"please select a  image to remove\");\n              } else {\n                //setting up the loader image and diming backgroud\n                //showing the loader\n                _this.loaderRef.style.display = \"inline\"; //diming the background\n\n                _this.allRef.style.opacity = 0.2;\n                temp = [];\n\n                _this.onClickedImages.map(function (val) {\n                  temp.push({\n                    Key: val\n                  });\n                });\n\n                _this.onClickedImages = [];\n                console.log(\"the selected data\", _this.mainPageSliderInfo_Id);\n                data = {\n                  url: temp,\n                  id: _this.mainPageSliderInfo_Id\n                };\n                axios.post(\"https://nh65v.sse.codesandbox.io/mainImages/removeUrlUpload\", data).then(function (res) {\n                  if (res.data.error === \"tokenPro\") {\n                    _this.loaderRef.style.display = \"none\"; //Undiming the background\n\n                    _this.allRef.style.opacity = 0;\n                    alert(\"you need to login first \");\n                  } else if (res.data.error === \"InternalError\") {\n                    _this.loaderRef.style.display = \"none\"; //Undiming the background\n\n                    _this.allRef.style.opacity = 0;\n                    alert(\"Oops, there's was an error please try again\");\n                  } else {\n                    console.log(\"removal done\", res.data.result);\n                    _this.loaderRef.style.display = \"none\"; // //Undiming the background\n\n                    _this.allRef.style.opacity = 1; //updating the info\n\n                    _this.props.setUserInfo(res.data.result);\n                  }\n                }, function (err) {});\n              }\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    _this.uploadHandler = function () {\n      if (_this.state.selectedFile === null) {\n        alert(\"please select a image\");\n      } else {\n        var alen = _this.state.selectedFile.length;\n        console.log(_this.state.selectedFile);\n        var formData = new FormData(); //showing the loader\n\n        _this.loaderRef.style.display = \"inline\"; //diming the background\n\n        _this.allRef.style.opacity = 0.2;\n\n        if (alen > 1) {\n          formData.append(\"image\", _this.mainPageSliderInfo_Id);\n\n          for (var k = 0; k < alen; k++) {\n            console.log(\"in multi upload\", _this.state.selectedFile[k]);\n            formData.append(\"image\", _this.state.selectedFile[k]);\n          }\n\n          _this.fetchDataMultiple(formData);\n        }\n\n        if (alen === 1) {\n          console.log(\"in single upload\", _this.state.selectedFile[0]);\n          formData.append(\"image\", _this.mainPageSliderInfo_Id);\n          formData.append(\"image\", _this.state.selectedFile[0]);\n          console.log(\"testing it \", _this.mainPageSliderInfo_Id);\n\n          _this.fetchDataSingle(formData);\n        }\n      }\n    };\n\n    _this.fetchDataSingle =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(data1) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(\"called it\");\n                axios.post(\"http://localhost:8081/mainImageslider/single\", data1).then(function (res) {\n                  if (res.data.error === \"tokenPro\") {\n                    _this.loaderRef.style.display = \"none\";\n                    _this.allRef.style.opacity = 1;\n                    alert(\"you need to login first \");\n                  } else if (res.data.error === \"InternalError\") {\n                    _this.loaderRef.style.display = \"none\";\n                    _this.allRef.style.opacity = 1;\n                    alert(\"Oops, there's was an error please try again\");\n                  } else {\n                    console.log(\"uploading done in main menu slider\");\n                    _this.loaderRef.style.display = \"none\";\n                    _this.allRef.style.opacity = 1;\n                    alert(\"uploaded\"); // alert(JSON.parse(res.data.result));\n                  }\n                }, function (err) {\n                  //clasing up loading icon\n                  _this.loaderRef.style.display = \"none\";\n                  _this.allRef.style.opacity = 1;\n                  alert(\"Oops, there's was an error please try again\");\n                  console.log(\"in error here\" + err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.uploadUrl =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(urls) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                console.log(\"uploading url called\", _this.mainPageSliderInfo_Id);\n                _context4.next = 3;\n                return fetch(\"https://nh65v.sse.codesandbox.io/mainImages/urlUpload\", {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    url: urls,\n                    id: _this.mainPageSliderInfo_Id\n                  }),\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (res) {\n                  try {\n                    console.log(\"received settttttt\", res); //remove previous selected state\n\n                    _this.fetchImageUrl();\n                  } catch (e) {\n                    console.log(\"error\" + e);\n                  } //this.imageurl = res;\n\n                }).catch(function (err) {\n                  console.log(\"in error\", err);\n                });\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.fetchImageUrl =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return fetch(\"https://nh65v.sse.codesandbox.io/getMainImageSliderUrl\").then(function (response) {\n                return response.json();\n              }).then(function (res) {\n                try {\n                  console.log(\"here it is\", res);\n\n                  _this.setState({\n                    mainPageSliderInfo: res\n                  });\n                } catch (e) {\n                  console.log(\"error\" + e);\n                } //this.imageurl = res;\n\n              }).catch(function (err) {\n                console.log(\"in error\" + err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    _this.selectedImg = function (e, url, path) {\n      if (e.target.id === \"selectImg\") {\n        var ind = _this.onClickedImages.indexOf(path);\n\n        console.log(\"index \", ind);\n\n        _this.onClickedImages.splice(ind, 1);\n\n        e.target.id = \"startImg\";\n      } else {\n        _this.onClickedImages.push(path);\n\n        e.target.id = \"selectImg\";\n      }\n\n      console.log(\"selected image\", _this.onClickedImages);\n    };\n\n    _this.temp = {\n      _id: \"\",\n      title: \"\",\n      pics: [],\n\n      get getLength() {\n        return this.pics;\n      },\n\n      setall: function setall(every) {\n        console.log(\"all called\");\n        this._id = every._id;\n        this.title = every.title;\n        this.pics = every.pics;\n      }\n    };\n    _this.state = {\n      ind: -1,\n      selectedFile: null,\n      mainPageSliderInfo: _this.props.data,\n      uid: null\n    };\n    _this.fetchDataMultiple = _this.fetchDataMultiple.bind(_assertThisInitialized(_this));\n    _this.fetchDataSingle = _this.fetchDataSingle.bind(_assertThisInitialized(_this));\n    _this.fileChangedHandler = _this.fileChangedHandler.bind(_assertThisInitialized(_this));\n    _this.uploadHandler = _this.uploadHandler.bind(_assertThisInitialized(_this));\n    _this.selectedImg = _this.selectedImg.bind(_assertThisInitialized(_this));\n    _this.removeHandler = _this.removeHandler.bind(_assertThisInitialized(_this));\n    _this.loader = _this.loader.bind(_assertThisInitialized(_this));\n    _this.clickedIn = _this.clickedIn.bind(_assertThisInitialized(_this));\n    return _this;\n  } //fetch data from the server\n\n\n  _createClass(MainImageSlider, [{\n    key: \"componentWillMount\",\n    //getting the image slider images\n    value: function componentWillMount() {}\n  }, {\n    key: \"getSliderInfo\",\n    //getting mainplage slider info\n    value: function getSliderInfo() {\n      var _this2 = this;\n\n      try {\n        this.props.user1.mainData.map(function (item, index) {\n          if (item.title === \"mainPageSlider\") {\n            _this2.mainPageSliderInfo = item.pics;\n            _this2.mainPageSliderInfo_Id = item._id;\n          }\n        });\n      } catch (e) {}\n    }\n  }, {\n    key: \"clickedIn\",\n    value: function clickedIn() {//alert(\"acomponent is clicked\");\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.socketConn.sockCon !== null) {\n        this.props.socketConn.sockCon.on(\"chat\", function (data) {\n          //console.log(\"received message on socket\", data);\n          alert(\"message received from socket\", data); //this.props.setUserInfo(JSON.parse(data));\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      this.getSliderInfo();\n      console.log(\"in render of MainPageslider\", this.mainPageSliderInfo_Id); // var arr = JSON.parse(String(temp));\n\n      return React.createElement(React.Fragment, null, this.loader(), React.createElement(\"div\", {\n        className: \"gallery\",\n        ref: function ref(ree) {\n          _this3.allRef = ree;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, this.mainPageSliderInfo.map(function (item, key) {\n        console.log(\"getting url info\", item);\n        return (// <a href=\"https://picsum.photos/200/200\" key={key}>\n          React.createElement(\"img\", {\n            src: item.url,\n            alt: \"\",\n            id: \"startImg\",\n            onClick: function onClick(e) {\n              return _this3.selectedImg(e, item.url, item.path);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 365\n            },\n            __self: this\n          }) // </a>\n\n        );\n      })), React.createElement(\"div\", {\n        className: \"addImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.fileChangedHandler,\n        multiple: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.uploadHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, \"Upload!\"), React.createElement(\"button\", {\n        onClick: this.removeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, \"Remove!\")));\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      console.log(\"update from details called\");\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate() {\n      return true;\n    }\n  }]);\n\n  return MainImageSlider;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user1: state.AdminDetailView,\n    socketConn: state.SocketReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setUserInfo: function setUserInfo(name) {\n      dispatch({\n        type: \"update\",\n        payload: name\n      });\n    },\n    initialize: function initialize(name) {\n      dispatch({\n        type: \"initial\",\n        payload: name\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainImageSlider);","map":{"version":3,"sources":["D:/towards Future/project1/React client/latestReact/src/components/AdminComponents/AdminImagestab/MainImageSlider.js"],"names":["React","connect","axios","Rolling","MainImageSlider","props","data","mainPageSliderInfo","backButtonRef","childRef","onClickedImages","mainPageSliderInfo_Id","allRef","fetchDataMultiple","datax","post","then","res","error","loaderRef","style","display","opacity","alert","console","log","setUserInfo","result","err","fileChangedHandler","event","setState","selectedFile","target","files","loader","ree","removeHandler","length","temp","map","val","push","Key","url","id","uploadHandler","state","alen","formData","FormData","append","k","fetchDataSingle","data1","uploadUrl","urls","fetch","method","body","JSON","stringify","headers","response","json","fetchImageUrl","e","catch","selectedImg","path","ind","indexOf","splice","_id","title","pics","getLength","setall","every","uid","bind","clickedIn","user1","mainData","item","index","socketConn","sockCon","on","getSliderInfo","key","Component","mapStateToProps","AdminDetailView","SocketReducer","mapDispatchToProps","dispatch","name","type","payload","initialize"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,kBAAxB;;IAEMC,e;;;;;AAKJ;AAGA;AAGA;AAGA;AAIA;AAGA,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,yFAAMA,KAAN;AADiB,UApBnBC,IAoBmB,GApBZ,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,EAA6B,QAA7B,EAAuC,OAAvC,CAoBY;AAAA,UAlBnBC,kBAkBmB,GAlBE,EAkBF;AAAA,UAfnBC,aAemB,GAfH,IAeG;AAAA,UAZnBC,QAYmB,GAZR,IAYQ;AAAA,UATnBC,eASmB,GATD,EASC;AAAA,UANnBH,kBAMmB,GANE,EAMF;AAAA,UALnBI,qBAKmB,GALK,EAKL;AAAA,UAFnBC,MAEmB,GAFV,IAEU;;AAAA,UAqBnBC,iBArBmB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAqBC,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACZZ,KAAK,CACRa,IADG,CACE,iDADF,EACqDD,KADrD,EAEHE,IAFG,CAGF,UAAAC,GAAG,EAAI;AACL,sBAAIA,GAAG,CAACX,IAAJ,CAASY,KAAT,KAAmB,UAAvB,EAAmC;AACjC,0BAAKC,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,oBAAAA,KAAK,CAAC,0BAAD,CAAL;AACD,mBALD,MAKO,IAAIN,GAAG,CAACX,IAAJ,CAASY,KAAT,KAAmB,eAAvB,EAAwC;AAC7C,0BAAKC,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,oBAAAA,KAAK,CAAC,6CAAD,CAAL;AACD,mBALM,MAKA;AACLC,oBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,0BAAKN,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;;AAEA,0BAAKjB,KAAL,CAAWqB,WAAX,CAAuBT,GAAG,CAACX,IAAJ,CAASqB,MAAhC;AACD;AACF,iBArBC,EAsBF,UAAAC,GAAG,EAAI;AACL;AACA,wBAAKT,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,wBAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,kBAAAA,KAAK,CAAC,6CAAD,CAAL;AAEAC,kBAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBG,GAA9B;AACD,iBA9BC,CADY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OArBD;;AAAA;AAAA;AAAA;AAAA;;AAAA,UAyDnBT,SAzDmB,GAyDP,IAzDO;;AAAA,UA2DnBU,kBA3DmB,GA2DE,UAAAC,KAAK,EAAI;AAC5BN,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;;AACA,YAAKM,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAA7B,OAAd;AACD,KA9DkB;;AAAA,UAkEnBC,MAlEmB,GAkEV,YAAM;AACb,aACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,GAAG,EAAE,aAAAC,GAAG;AAAA,iBAAK,MAAKjB,SAAL,GAAiBiB,GAAtB;AAAA,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,MADF;AAKD,KAxEkB;;AAAA,UA0EnBC,aA1EmB;AAAA;AAAA;AAAA;AAAA,6BA0EH;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,kBAAI,MAAK3B,eAAL,CAAqB4B,MAArB,KAAgC,CAApC,EAAuC;AACrCf,gBAAAA,KAAK,CAAC,kCAAD,CAAL;AACD,eAFD,MAEO;AACL;AACA;AACA,sBAAKJ,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,QAA/B,CAHK,CAKL;;AACA,sBAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,GAA5B;AAEIiB,gBAAAA,IARC,GAQM,EARN;;AAUL,sBAAK7B,eAAL,CAAqB8B,GAArB,CAAyB,UAAAC,GAAG,EAAI;AAC9BF,kBAAAA,IAAI,CAACG,IAAL,CAAU;AAAEC,oBAAAA,GAAG,EAAEF;AAAP,mBAAV;AACD,iBAFD;;AAIA,sBAAK/B,eAAL,GAAuB,EAAvB;AAEAc,gBAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,MAAKd,qBAAtC;AAEML,gBAAAA,IAlBD,GAkBQ;AACXsC,kBAAAA,GAAG,EAAEL,IADM;AAEXM,kBAAAA,EAAE,EAAE,MAAKlC;AAFE,iBAlBR;AAuBLT,gBAAAA,KAAK,CACFa,IADH,CAEI,6DAFJ,EAGIT,IAHJ,EAKGU,IALH,CAMI,UAAAC,GAAG,EAAI;AACL,sBAAIA,GAAG,CAACX,IAAJ,CAASY,KAAT,KAAmB,UAAvB,EAAmC;AACjC,0BAAKC,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B,CADiC,CAGjC;;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,oBAAAA,KAAK,CAAC,0BAAD,CAAL;AACD,mBAPD,MAOO,IAAIN,GAAG,CAACX,IAAJ,CAASY,KAAT,KAAmB,eAAvB,EAAwC;AAC7C,0BAAKC,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B,CAD6C,CAG7C;;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,oBAAAA,KAAK,CAAC,6CAAD,CAAL;AACD,mBAPM,MAOA;AACLC,oBAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BR,GAAG,CAACX,IAAJ,CAASqB,MAArC;AAEA,0BAAKR,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B,CAHK,CAKL;;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B,CANK,CAQL;;AACA,0BAAKjB,KAAL,CAAWqB,WAAX,CAAuBT,GAAG,CAACX,IAAJ,CAASqB,MAAhC;AACD;AACF,iBAhCL,EAiCI,UAAAC,GAAG,EAAI,CAAE,CAjCb;AAmCD;;AA7Da;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA1EG;;AAAA,UA0InBkB,aA1ImB,GA0IH,YAAM;AACpB,UAAI,MAAKC,KAAL,CAAWf,YAAX,KAA4B,IAAhC,EAAsC;AACpCT,QAAAA,KAAK,CAAC,uBAAD,CAAL;AACD,OAFD,MAEO;AACL,YAAIyB,IAAI,GAAG,MAAKD,KAAL,CAAWf,YAAX,CAAwBM,MAAnC;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAKsB,KAAL,CAAWf,YAAvB;AACA,YAAIiB,QAAQ,GAAG,IAAIC,QAAJ,EAAf,CAHK,CAKL;;AACA,cAAK/B,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,QAA/B,CANK,CAQL;;AACA,cAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,GAA5B;;AAEA,YAAI0B,IAAI,GAAG,CAAX,EAAc;AACZC,UAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,MAAKxC,qBAA9B;;AAEA,eAAK,IAAIyC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAApB,EAA0BI,CAAC,EAA3B,EAA+B;AAC7B5B,YAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,MAAKsB,KAAL,CAAWf,YAAX,CAAwBoB,CAAxB,CAA/B;AACAH,YAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,MAAKJ,KAAL,CAAWf,YAAX,CAAwBoB,CAAxB,CAAzB;AACD;;AAED,gBAAKvC,iBAAL,CAAuBoC,QAAvB;AACD;;AACD,YAAID,IAAI,KAAK,CAAb,EAAgB;AACdxB,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC,MAAKsB,KAAL,CAAWf,YAAX,CAAwB,CAAxB,CAAhC;AACAiB,UAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,MAAKxC,qBAA9B;AACAsC,UAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,MAAKJ,KAAL,CAAWf,YAAX,CAAwB,CAAxB,CAAzB;AAEAR,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,MAAKd,qBAAhC;;AACA,gBAAK0C,eAAL,CAAqBJ,QAArB;AACD;AACF;AACF,KA3KkB;;AAAA,UA8KnBI,eA9KmB;AAAA;AAAA;AAAA;AAAA;AAAA,+BA8KD,kBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAChB9B,gBAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEAvB,gBAAAA,KAAK,CAACa,IAAN,CAAW,8CAAX,EAA2DuC,KAA3D,EAAkEtC,IAAlE,CACE,UAAAC,GAAG,EAAI;AACL,sBAAIA,GAAG,CAACX,IAAJ,CAASY,KAAT,KAAmB,UAAvB,EAAmC;AACjC,0BAAKC,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,oBAAAA,KAAK,CAAC,0BAAD,CAAL;AACD,mBALD,MAKO,IAAIN,GAAG,CAACX,IAAJ,CAASY,KAAT,KAAmB,eAAvB,EAAwC;AAC7C,0BAAKC,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,oBAAAA,KAAK,CAAC,6CAAD,CAAL;AACD,mBALM,MAKA;AACLC,oBAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACA,0BAAKN,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,0BAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AACAC,oBAAAA,KAAK,CAAC,UAAD,CAAL,CAJK,CAKL;AACD;AACF,iBAnBH,EAoBE,UAAAK,GAAG,EAAI;AACL;AACA,wBAAKT,SAAL,CAAeC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,wBAAKT,MAAL,CAAYQ,KAAZ,CAAkBE,OAAlB,GAA4B,CAA5B;AAEAC,kBAAAA,KAAK,CAAC,6CAAD,CAAL;AAEAC,kBAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBG,GAA9B;AACD,iBA5BH;;AAHgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA9KC;;AAAA;AAAA;AAAA;AAAA;;AAAA,UAkNnB2B,SAlNmB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAkNP,kBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AACVhC,gBAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC,MAAKd,qBAAzC;AADU;AAAA,uBAGJ8C,KAAK,0DAA0D;AACnEC,kBAAAA,MAAM,EAAE,MAD2D;AAEnEC,kBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBjB,oBAAAA,GAAG,EAAEY,IADc;AAEnBX,oBAAAA,EAAE,EAAE,MAAKlC;AAFU,mBAAf,CAF6D;AAMnEmD,kBAAAA,OAAO,EAAE;AACP,oCAAgB;AADT;AAN0D,iBAA1D,CAAL,CAUH9C,IAVG,CAUE,UAAA+C,QAAQ;AAAA,yBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,iBAVV,EAWHhD,IAXG,CAWE,UAAAC,GAAG,EAAI;AACX,sBAAI;AACFO,oBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCR,GAAlC,EADE,CAEF;;AACA,0BAAKgD,aAAL;AACD,mBAJD,CAIE,OAAOC,CAAP,EAAU;AACV1C,oBAAAA,OAAO,CAACC,GAAR,CAAY,UAAUyC,CAAtB;AACD,mBAPU,CAQX;;AACD,iBApBG,EAqBHC,KArBG,CAqBG,UAAAvC,GAAG,EAAI;AACZJ,kBAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBG,GAAxB;AACD,iBAvBG,CAHI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAlNO;;AAAA;AAAA;AAAA;AAAA;;AAAA,UAiPnBqC,aAjPmB;AAAA;AAAA;AAAA;AAAA,6BAiPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACRR,KAAK,0DAAL,CACHzC,IADG,CACE,UAAA+C,QAAQ;AAAA,uBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,eADV,EAEHhD,IAFG,CAEE,UAAAC,GAAG,EAAI;AACX,oBAAI;AACFO,kBAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BR,GAA1B;;AACA,wBAAKc,QAAL,CAAc;AACZxB,oBAAAA,kBAAkB,EAAEU;AADR,mBAAd;AAGD,iBALD,CAKE,OAAOiD,CAAP,EAAU;AACV1C,kBAAAA,OAAO,CAACC,GAAR,CAAY,UAAUyC,CAAtB;AACD,iBARU,CASX;;AACD,eAZG,EAaHC,KAbG,CAaG,UAAAvC,GAAG,EAAI;AACZJ,gBAAAA,OAAO,CAACC,GAAR,CAAY,aAAaG,GAAzB;AACD,eAfG,CADQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjPG;;AAAA,UAoQnBwC,WApQmB,GAoQL,UAACF,CAAD,EAAItB,GAAJ,EAASyB,IAAT,EAAkB;AAC9B,UAAIH,CAAC,CAACjC,MAAF,CAASY,EAAT,KAAgB,WAApB,EAAiC;AAC/B,YAAIyB,GAAG,GAAG,MAAK5D,eAAL,CAAqB6D,OAArB,CAA6BF,IAA7B,CAAV;;AACA7C,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB6C,GAAtB;;AACA,cAAK5D,eAAL,CAAqB8D,MAArB,CAA4BF,GAA5B,EAAiC,CAAjC;;AACAJ,QAAAA,CAAC,CAACjC,MAAF,CAASY,EAAT,GAAc,UAAd;AACD,OALD,MAKO;AACL,cAAKnC,eAAL,CAAqBgC,IAArB,CAA0B2B,IAA1B;;AACAH,QAAAA,CAAC,CAACjC,MAAF,CAASY,EAAT,GAAc,WAAd;AACD;;AAEDrB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,MAAKf,eAAnC;AACD,KAhRkB;;AAAA,UAqRnB6B,IArRmB,GAqRZ;AACLkC,MAAAA,GAAG,EAAE,EADA;AAELC,MAAAA,KAAK,EAAE,EAFF;AAGLC,MAAAA,IAAI,EAAE,EAHD;;AAIL,UAAIC,SAAJ,GAAgB;AACd,eAAO,KAAKD,IAAZ;AACD,OANI;;AAOLE,MAAAA,MAPK,kBAOEC,KAPF,EAOS;AACZtD,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,aAAKgD,GAAL,GAAWK,KAAK,CAACL,GAAjB;AACA,aAAKC,KAAL,GAAaI,KAAK,CAACJ,KAAnB;AACA,aAAKC,IAAL,GAAYG,KAAK,CAACH,IAAlB;AACD;AAZI,KArRY;AAGjB,UAAK5B,KAAL,GAAa;AACXuB,MAAAA,GAAG,EAAE,CAAC,CADK;AAEXtC,MAAAA,YAAY,EAAE,IAFH;AAGXzB,MAAAA,kBAAkB,EAAE,MAAKF,KAAL,CAAWC,IAHpB;AAIXyE,MAAAA,GAAG,EAAE;AAJM,KAAb;AAOA,UAAKlE,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBmE,IAAvB,+BAAzB;AACA,UAAK3B,eAAL,GAAuB,MAAKA,eAAL,CAAqB2B,IAArB,+BAAvB;AACA,UAAKnD,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBmD,IAAxB,+BAA1B;AACA,UAAKlC,aAAL,GAAqB,MAAKA,aAAL,CAAmBkC,IAAnB,+BAArB;AACA,UAAKZ,WAAL,GAAmB,MAAKA,WAAL,CAAiBY,IAAjB,+BAAnB;AACA,UAAK3C,aAAL,GAAqB,MAAKA,aAAL,CAAmB2C,IAAnB,+BAArB;AACA,UAAK7C,MAAL,GAAc,MAAKA,MAAL,CAAY6C,IAAZ,+BAAd;AACA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeD,IAAf,+BAAjB;AAjBiB;AAkBlB,G,CAED;;;;;AA8PA;yCACqB,CAAE;;;AAiBvB;oCACgB;AAAA;;AACd,UAAI;AACF,aAAK3E,KAAL,CAAW6E,KAAX,CAAiBC,QAAjB,CAA0B3C,GAA1B,CAA8B,UAAC4C,IAAD,EAAOC,KAAP,EAAiB;AAC7C,cAAID,IAAI,CAACV,KAAL,KAAe,gBAAnB,EAAqC;AACnC,YAAA,MAAI,CAACnE,kBAAL,GAA0B6E,IAAI,CAACT,IAA/B;AACA,YAAA,MAAI,CAAChE,qBAAL,GAA6ByE,IAAI,CAACX,GAAlC;AACD;AACF,SALD;AAMD,OAPD,CAOE,OAAOP,CAAP,EAAU,CAAE;AACf;;;gCAEW,CACV;AACD;;;wCAEmB;AAClB,UAAI,KAAK7D,KAAL,CAAWiF,UAAX,CAAsBC,OAAtB,KAAkC,IAAtC,EAA4C;AAC1C,aAAKlF,KAAL,CAAWiF,UAAX,CAAsBC,OAAtB,CAA8BC,EAA9B,CAAiC,MAAjC,EAAyC,UAASlF,IAAT,EAAe;AACtD;AACAiB,UAAAA,KAAK,CAAC,8BAAD,EAAiCjB,IAAjC,CAAL,CAFsD,CAGtD;AACD,SAJD;AAKD;AACF;;;6BAEQ;AAAA;;AACP,WAAKmF,aAAL;AAEAjE,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2C,KAAKd,qBAAhD,EAHO,CAKP;;AAEA,aACE,0CACG,KAAKwB,MAAL,EADH,EAEE;AACE,QAAA,SAAS,EAAC,SADZ;AAEE,QAAA,GAAG,EAAE,aAAAC,GAAG,EAAI;AACV,UAAA,MAAI,CAACxB,MAAL,GAAcwB,GAAd;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMG,KAAK7B,kBAAL,CAAwBiC,GAAxB,CAA4B,UAAC4C,IAAD,EAAOM,GAAP,EAAe;AAC1ClE,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC2D,IAAhC;AACA,eACE;AACA;AACE,YAAA,GAAG,EAAEA,IAAI,CAACxC,GADZ;AAEE,YAAA,GAAG,EAAC,EAFN;AAGE,YAAA,EAAE,EAAC,UAHL;AAIE,YAAA,OAAO,EAAE,iBAAAsB,CAAC;AAAA,qBAAI,MAAI,CAACE,WAAL,CAAiBF,CAAjB,EAAoBkB,IAAI,CAACxC,GAAzB,EAA8BwC,IAAI,CAACf,IAAnC,CAAJ;AAAA,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CAQE;;AARF;AAUD,OAZA,CANH,CAFF,EAsBE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAE,KAAKxC,kBAAlC;AAAsD,QAAA,QAAQ,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAQ,QAAA,OAAO,EAAE,KAAKiB,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,EAGE;AAAQ,QAAA,OAAO,EAAE,KAAKT,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,CAtBF,CADF;AA8BD;;;yCAEoB;AACnBb,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD;;;4CAEuB;AACtB,aAAO,IAAP;AACD;;;;EAhY2BzB,KAAK,CAAC2F,S;;AAmYpC,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAA7C,KAAK,EAAI;AAC/B,SAAO;AACLmC,IAAAA,KAAK,EAAEnC,KAAK,CAAC8C,eADR;AAELP,IAAAA,UAAU,EAAEvC,KAAK,CAAC+C;AAFb,GAAP;AAID,CALD;;AAOA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACLtE,IAAAA,WAAW,EAAE,qBAAAuE,IAAI,EAAI;AACnBD,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAE,QADC;AAEPC,QAAAA,OAAO,EAAEF;AAFF,OAAD,CAAR;AAID,KANI;AAOLG,IAAAA,UAAU,EAAE,oBAAAH,IAAI,EAAI;AAClBD,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAE,SADC;AAEPC,QAAAA,OAAO,EAAEF;AAFF,OAAD,CAAR;AAID;AAZI,GAAP;AAcD,CAfD;;AAiBA,eAAehG,OAAO,CACpB2F,eADoB,EAEpBG,kBAFoB,CAAP,CAGb3F,eAHa,CAAf","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { Rolling } from \"react-loading-io\";\r\n\r\nclass MainImageSlider extends React.Component {\r\n  data = [\"first\", \"second\", \"third\", \"fourth\", \"fifth\"];\r\n\r\n  mainPageSliderInfo = {};\r\n\r\n  //back button reference\r\n  backButtonRef = null;\r\n\r\n  //child component reference\r\n  childRef = null;\r\n\r\n  //selected images to be deleted\r\n  onClickedImages = [];\r\n\r\n  //for mainpageslider specific info\r\n  mainPageSliderInfo = [];\r\n  mainPageSliderInfo_Id = \"\";\r\n\r\n  //refering the whole screen\r\n  allRef = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      ind: -1,\r\n      selectedFile: null,\r\n      mainPageSliderInfo: this.props.data,\r\n      uid: null\r\n    };\r\n\r\n    this.fetchDataMultiple = this.fetchDataMultiple.bind(this);\r\n    this.fetchDataSingle = this.fetchDataSingle.bind(this);\r\n    this.fileChangedHandler = this.fileChangedHandler.bind(this);\r\n    this.uploadHandler = this.uploadHandler.bind(this);\r\n    this.selectedImg = this.selectedImg.bind(this);\r\n    this.removeHandler = this.removeHandler.bind(this);\r\n    this.loader = this.loader.bind(this);\r\n    this.clickedIn = this.clickedIn.bind(this);\r\n  }\r\n\r\n  //fetch data from the server\r\n  fetchDataMultiple = async datax => {\r\n    await axios\r\n      .post(\"http://localhost:8081/mainImageslider/notSingle\", datax)\r\n      .then(\r\n        res => {\r\n          if (res.data.error === \"tokenPro\") {\r\n            this.loaderRef.style.display = \"none\";\r\n            this.allRef.style.opacity = 1;\r\n\r\n            alert(\"you need to login first \");\r\n          } else if (res.data.error === \"InternalError\") {\r\n            this.loaderRef.style.display = \"none\";\r\n            this.allRef.style.opacity = 1;\r\n\r\n            alert(\"Oops, there's was an error please try again\");\r\n          } else {\r\n            console.log(\"uploading done\");\r\n            this.loaderRef.style.display = \"none\";\r\n            this.allRef.style.opacity = 1;\r\n\r\n            this.props.setUserInfo(res.data.result);\r\n          }\r\n        },\r\n        err => {\r\n          //clasing up loading icon\r\n          this.loaderRef.style.display = \"none\";\r\n          this.allRef.style.opacity = 1;\r\n\r\n          alert(\"Oops, there's was an error please try again\");\r\n\r\n          console.log(\"in error here\" + err);\r\n        }\r\n      );\r\n  };\r\n\r\n  //reference to loader icon\r\n  loaderRef = null;\r\n\r\n  fileChangedHandler = event => {\r\n    console.log(\"file uploaded\");\r\n    this.setState({ selectedFile: event.target.files });\r\n  };\r\n\r\n  //the sloading spinner\r\n  // Use Component\r\n  loader = () => {\r\n    return (\r\n      <div className=\"loaderImage\" ref={ree => (this.loaderRef = ree)}>\r\n        <Rolling size={100} />;\r\n      </div>\r\n    );\r\n  };\r\n\r\n  removeHandler = async () => {\r\n    if (this.onClickedImages.length === 0) {\r\n      alert(\"please select a  image to remove\");\r\n    } else {\r\n      //setting up the loader image and diming backgroud\r\n      //showing the loader\r\n      this.loaderRef.style.display = \"inline\";\r\n\r\n      //diming the background\r\n      this.allRef.style.opacity = 0.2;\r\n\r\n      var temp = [];\r\n\r\n      this.onClickedImages.map(val => {\r\n        temp.push({ Key: val });\r\n      });\r\n\r\n      this.onClickedImages = [];\r\n\r\n      console.log(\"the selected data\", this.mainPageSliderInfo_Id);\r\n\r\n      const data = {\r\n        url: temp,\r\n        id: this.mainPageSliderInfo_Id\r\n      };\r\n\r\n      axios\r\n        .post(\r\n          \"https://nh65v.sse.codesandbox.io/mainImages/removeUrlUpload\",\r\n          data\r\n        )\r\n        .then(\r\n          res => {\r\n            if (res.data.error === \"tokenPro\") {\r\n              this.loaderRef.style.display = \"none\";\r\n\r\n              //Undiming the background\r\n              this.allRef.style.opacity = 0;\r\n\r\n              alert(\"you need to login first \");\r\n            } else if (res.data.error === \"InternalError\") {\r\n              this.loaderRef.style.display = \"none\";\r\n\r\n              //Undiming the background\r\n              this.allRef.style.opacity = 0;\r\n\r\n              alert(\"Oops, there's was an error please try again\");\r\n            } else {\r\n              console.log(\"removal done\", res.data.result);\r\n\r\n              this.loaderRef.style.display = \"none\";\r\n\r\n              // //Undiming the background\r\n              this.allRef.style.opacity = 1;\r\n\r\n              //updating the info\r\n              this.props.setUserInfo(res.data.result);\r\n            }\r\n          },\r\n          err => {}\r\n        );\r\n    }\r\n  };\r\n\r\n  uploadHandler = () => {\r\n    if (this.state.selectedFile === null) {\r\n      alert(\"please select a image\");\r\n    } else {\r\n      var alen = this.state.selectedFile.length;\r\n      console.log(this.state.selectedFile);\r\n      var formData = new FormData();\r\n\r\n      //showing the loader\r\n      this.loaderRef.style.display = \"inline\";\r\n\r\n      //diming the background\r\n      this.allRef.style.opacity = 0.2;\r\n\r\n      if (alen > 1) {\r\n        formData.append(\"image\", this.mainPageSliderInfo_Id);\r\n\r\n        for (let k = 0; k < alen; k++) {\r\n          console.log(\"in multi upload\", this.state.selectedFile[k]);\r\n          formData.append(\"image\", this.state.selectedFile[k]);\r\n        }\r\n\r\n        this.fetchDataMultiple(formData);\r\n      }\r\n      if (alen === 1) {\r\n        console.log(\"in single upload\", this.state.selectedFile[0]);\r\n        formData.append(\"image\", this.mainPageSliderInfo_Id);\r\n        formData.append(\"image\", this.state.selectedFile[0]);\r\n\r\n        console.log(\"testing it \", this.mainPageSliderInfo_Id);\r\n        this.fetchDataSingle(formData);\r\n      }\r\n    }\r\n  };\r\n\r\n  //fetch data from the server\r\n  fetchDataSingle = async data1 => {\r\n    console.log(\"called it\");\r\n\r\n    axios.post(\"http://localhost:8081/mainImageslider/single\", data1).then(\r\n      res => {\r\n        if (res.data.error === \"tokenPro\") {\r\n          this.loaderRef.style.display = \"none\";\r\n          this.allRef.style.opacity = 1;\r\n\r\n          alert(\"you need to login first \");\r\n        } else if (res.data.error === \"InternalError\") {\r\n          this.loaderRef.style.display = \"none\";\r\n          this.allRef.style.opacity = 1;\r\n\r\n          alert(\"Oops, there's was an error please try again\");\r\n        } else {\r\n          console.log(\"uploading done in main menu slider\");\r\n          this.loaderRef.style.display = \"none\";\r\n          this.allRef.style.opacity = 1;\r\n          alert(\"uploaded\")\r\n          // alert(JSON.parse(res.data.result));\r\n        }\r\n      },\r\n      err => {\r\n        //clasing up loading icon\r\n        this.loaderRef.style.display = \"none\";\r\n        this.allRef.style.opacity = 1;\r\n\r\n        alert(\"Oops, there's was an error please try again\");\r\n\r\n        console.log(\"in error here\" + err);\r\n      }\r\n    );\r\n  };\r\n\r\n  //upload url to mongo\r\n  uploadUrl = async urls => {\r\n    console.log(\"uploading url called\", this.mainPageSliderInfo_Id);\r\n\r\n    await fetch(`https://nh65v.sse.codesandbox.io/mainImages/urlUpload`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        url: urls,\r\n        id: this.mainPageSliderInfo_Id\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        try {\r\n          console.log(\"received settttttt\", res);\r\n          //remove previous selected state\r\n          this.fetchImageUrl();\r\n        } catch (e) {\r\n          console.log(\"error\" + e);\r\n        }\r\n        //this.imageurl = res;\r\n      })\r\n      .catch(err => {\r\n        console.log(\"in error\", err);\r\n      });\r\n  };\r\n\r\n  //fetch data from image url\r\n  //fetch data from the server\r\n  fetchImageUrl = async () => {\r\n    await fetch(`https://nh65v.sse.codesandbox.io/getMainImageSliderUrl`)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        try {\r\n          console.log(\"here it is\", res);\r\n          this.setState({\r\n            mainPageSliderInfo: res\r\n          });\r\n        } catch (e) {\r\n          console.log(\"error\" + e);\r\n        }\r\n        //this.imageurl = res;\r\n      })\r\n      .catch(err => {\r\n        console.log(\"in error\" + err);\r\n      });\r\n  };\r\n\r\n  selectedImg = (e, url, path) => {\r\n    if (e.target.id === \"selectImg\") {\r\n      var ind = this.onClickedImages.indexOf(path);\r\n      console.log(\"index \", ind);\r\n      this.onClickedImages.splice(ind, 1);\r\n      e.target.id = \"startImg\";\r\n    } else {\r\n      this.onClickedImages.push(path);\r\n      e.target.id = \"selectImg\";\r\n    }\r\n\r\n    console.log(\"selected image\", this.onClickedImages);\r\n  };\r\n\r\n  //getting the image slider images\r\n  componentWillMount() {}\r\n\r\n  temp = {\r\n    _id: \"\",\r\n    title: \"\",\r\n    pics: [],\r\n    get getLength() {\r\n      return this.pics;\r\n    },\r\n    setall(every) {\r\n      console.log(\"all called\");\r\n      this._id = every._id;\r\n      this.title = every.title;\r\n      this.pics = every.pics;\r\n    }\r\n  };\r\n\r\n  //getting mainplage slider info\r\n  getSliderInfo() {\r\n    try {\r\n      this.props.user1.mainData.map((item, index) => {\r\n        if (item.title === \"mainPageSlider\") {\r\n          this.mainPageSliderInfo = item.pics;\r\n          this.mainPageSliderInfo_Id = item._id;\r\n        }\r\n      });\r\n    } catch (e) {}\r\n  }\r\n\r\n  clickedIn() {\r\n    //alert(\"acomponent is clicked\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.socketConn.sockCon !== null) {\r\n      this.props.socketConn.sockCon.on(\"chat\", function(data) {\r\n        //console.log(\"received message on socket\", data);\r\n        alert(\"message received from socket\", data);\r\n        //this.props.setUserInfo(JSON.parse(data));\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.getSliderInfo();\r\n\r\n    console.log(\"in render of MainPageslider\", this.mainPageSliderInfo_Id);\r\n\r\n    // var arr = JSON.parse(String(temp));\r\n\r\n    return (\r\n      <>\r\n        {this.loader()}\r\n        <div\r\n          className=\"gallery\"\r\n          ref={ree => {\r\n            this.allRef = ree;\r\n          }}\r\n        >\r\n          {this.mainPageSliderInfo.map((item, key) => {\r\n            console.log(\"getting url info\", item);\r\n            return (\r\n              // <a href=\"https://picsum.photos/200/200\" key={key}>\r\n              <img\r\n                src={item.url}\r\n                alt=\"\"\r\n                id=\"startImg\"\r\n                onClick={e => this.selectedImg(e, item.url, item.path)}\r\n              />\r\n              // </a>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"addImage\">\r\n          <input type=\"file\" onChange={this.fileChangedHandler} multiple />\r\n          <button onClick={this.uploadHandler}>Upload!</button>\r\n          <button onClick={this.removeHandler}>Remove!</button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    console.log(\"update from details called\");\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return true;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user1: state.AdminDetailView,\r\n    socketConn: state.SocketReducer\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUserInfo: name => {\r\n      dispatch({\r\n        type: \"update\",\r\n        payload: name\r\n      });\r\n    },\r\n    initialize: name => {\r\n      dispatch({\r\n        type: \"initial\",\r\n        payload: name\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MainImageSlider);\r\n"]},"metadata":{},"sourceType":"module"}